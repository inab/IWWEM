<html>
<head>
	<title>INB Interactive Web Workflow Enactor &amp; Manager v0.6.1</title>
	<!--
		$Id$
		workflowmanager.html
		from INB Interactive Web Workflow Enactor & Manager (IWWE&M)
		Author: José María Fernández González (C) 2007-2008
		Institutions:
		*	Spanish National Cancer Research Institute (CNIO, http://www.cnio.es/)
		*	Spanish National Bioinformatics Institute (INB, http://www.inab.org/)
	-->

	<link rel="shortcut icon" href="favicon.ico" type="image/vnd.microsoft.icon">
	<link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon">

	<link rel="stylesheet" type="text/css" href="style/IWWEM-buttons.css"></link>
	<link rel="stylesheet" type="text/css" href="style/IWWEM-styles.css"></link>

	<script type="text/javascript" src="js/ORFandDB-widgetCommon/browserdetect/BrowserDetect.js"></script>
	<script type="text/javascript" src="js/ORFandDB-widgetCommon/widgetCommon.js"></script>
	<script type="text/javascript" src="js/FCKeditor/fckeditor.js"></script>
	<script type="text/javascript" src="js/dynamicSVGhandling.js"></script>
	<script type="text/javascript" src="js/IWWEM-common.js"></script>
	<script type="text/javascript" src="js/workflowdesc.js"></script>
	<script type="text/javascript" src="js/workflowreport.js"></script>

	<script type="text/javascript" src="js/prettify/prettify.js"></script>
	<script type="text/javascript" src="js/jmol/Jmol.js"></script>
	<script type="text/javascript" src="js/base64.js"></script>
	<script type="text/javascript" src="js/baclavahandling.js"></script>
	<script type="text/javascript" src="js/IWWEMprettyXML.js"></script>
	<script type="text/javascript" src="js/databrowser.js"></script>
	<script type="text/javascript" src="js/datamatcher.js"></script>
	<script type="text/javascript" src="js/datatreeview.js"></script>
	<script type="text/javascript" src="js/enactionstep.js"></script>

	<script type="text/javascript" src="js/workflowmanager.js"></script>
</head>
<body onload="InitIWWEM(WorkflowManagerCustomInit)" onunload="DisposeIWWEM(WorkflowManagerCustomDispose)">
<form id="formManager" method="post" enctype="multipart/form-data">
		<table align="center" style="width:98%;height:98%;table-layout:fixed;">
			<tr><td colspan="6" align="center"><a href="http://www.inab.org/"><img src="style/inb-logo-tiny.png" style="vertical-align:middle" alt="INB" title="INB" border="0"></a> <b id="titleB">Interactive Web Workflow Enactor &amp; Manager v0.6.1</b></td></tr>
			<tr><td colspan="2" class="data" style="vertical-align:middle;min-width:30%;width:30%;max-width:30%;min-height:85%;height:85%;max-height:85%;">
				<div class="scrolldatawide" id="workflow"></div>
			</td><td colspan="2" class="middle" style="vertical-align:middle;min-width:40%;width:40%;max-width:40%;min-height:85%;height:85%;max-height:85%;">
				<div align="center" id="wfsvgdiv" style="width:100%"></div>
			</td><td colspan="2" align="right" style="vertical-align:middle;min-width:30%;width:30%;max-width:30%;min-height:85%;height:85%;max-height:85%;">
				<div class="scrolldatawide" id="wfReportDiv"></div>
			</td></tr><tr><td colspan="6" align="right">
				<span id="confirm" class='checkboxred checkbox right'>Confirm</span>
			</td></tr><tr><td class="buttons" align="center">
				<div id="reloadButton" class="button"><span id="updateTextSpan">Update</span> <img src="style/reload.png"></div>
			</td><td class="buttons" align="center">
				<div id="newWFButton" class="button">Add new <img src="style/blueplus.png"></div>
			</td><td class="buttons" align="center">
				<div id="relaunchButton" class="button">Relaunch!<img src="style/regreenball.png"></div>
			</td><td class="buttons" align="center">
				<div id="launchButton" class="button">Launch!<img src="style/greenball.png"></div>
			</td><td class="buttons" align="center">
				<div id="openEnactionButton" class="button">Inspect it <img src="style/run.png"></div>
			</td><td class="buttons" align="center">
				<div id="deleteButton" class="button">Delete <img src="style/recycle.png"></div>
			</td></tr>
		<!-- Messages table -->
			<tr><td colspan="2" style="width:100%;height:5%;overflow:auto">
				<p><u>Submitted enaction jobs</u></p>
				<ol id="submittedList"></ol>
			</td><td colspan="4" style="width:100%;height:5%;overflow:auto">
				<p><u>Last operation message</u></p>
				<div id="messageDiv"></div>
			</td></tr>
		</table>
</form>
<div class="hidden" id="outerAbsDiv"></div>
<div class="hidden" id="newWorkflow">
	<div class="secondary">
		<div align="center">Please introduce your workflow and the local workflows it depends on</div>
		<form id="formNewWF" action="cgi-bin/workflowmanager" method="post" enctype="multipart/form-data">
			<div align="center">
				<table><tr><td>
					<div class="borderedOption"><span id="newWFStyleText" class="radio left">As text</span>&nbsp;<span id="newWFStyleFile" class="radio left">As file</span></div>
				</td></tr><tr><td>
					<div id="newWFContainer"></div>
				</td></tr><tr><td>
					<div align="center" id="newWFUploading"><i><blink>Uploading and checking new workflow...</blink> </i><img src="style/ajaxLoader.gif"></img>
						<iframe src="about:blank" frameborder="0" id="uploadIFRAME" name="uploadIFRAME" style="width:0;height:0;visibility:hidden;"></iframe>
					</div>
					<div id="newSubWFContainer"></div>
				</td></tr></table>
			</div>
		</form>
		<div class="button back" onclick="genview.newwfview.closeNewWorkflowFrame()">
			<table style="width:100%; height:100%;margin:0px;padding:0px"><tr valign="middle"><td align="center">
				<img src="style/leftarrow.png"></img> Back
			</td></tr></table>
		</div>
		<div class="button forward" onclick="genview.newwfview.upload()">
			<table style="width:100%; height:100%;margin:0px;padding:0px"><tr valign="middle"><td align="center">
				Upload <img src="style/upload.png"></img>
			</td></tr></table>
		</div>
	</div>
</div>
<div class="hidden" id="newEnaction">
	<div class="secondary">
		<form id="formEnactor" action="cgi-bin/enactionlauncher" method="post" target="_blank" enctype="multipart/form-data">
			<input id="workflowHiddenInput" type="hidden" name="id"></input>
		<table align="center" style="width:98%; height:98%;"><tr valign="middle">
			<td colspan="2" style="text-align:center;">Please introduce your inputs for this workflow</td>
		</tr><tr><td rowspan="2" style="min-width:40%;width:40%;max-width:40%;min-height:100%;height:100%;max-height:100%;vertical-align:middle;" align="center">
			<div id="enactsvg" style="width:100%"></div>
		</td><td style="min-width:60%;width:60%;max-width:60%;height:5%">
			<div id="useDiv" align="center" style="margin: 5px 5px 5px 5px">
				<span class="borderedOption"><span id="noneExampleSpan" class="radio right">Use inputs</span>&nbsp;<span id="saveAsExampleSpan" class="checkboxgreen checkbox right">Save as example</span></span>
				<span class="borderedOption"><span id="useExampleSpan" class="radio right">Use example</span></span>
				<div id="saveExampleDiv"></div>
			</div>
		</td></tr><tr><td style="min-width:60%;width:60%;max-width:60%;">
			<div class="scrolldatawide" id="newInputs"> </div>
		</td></tr>
		<tr><td align="left">
			<div class="button" onclick="genview.newenactview.closeNewEnactionFrame()">
				<img src="style/leftarrow.png"></img> Back
			</div>
		</td><td align="right">
			<div class="button" onclick="genview.newenactview.enact()">
				Start! <img src="style/run.png"></img>
			</div>
		</td></tr></table>
		</form>
		<div id="newEnactUploading">
			<iframe src="about:blank" frameborder="0" id="enactIFRAME" name="enactIFRAME" style="width:0;height:0;visibility:hidden;"></iframe>
		</div>
	</div>
</div>
<div class="hidden" id="reloadWorkflows">
	<table style="width:100%; height:100%"><tr valign="middle"><td align="center">
		<img src="style/big-ajax-loader.gif"></img>
	</td></tr></table>
	<!--
	<img style="position:relative; top: 45%;left: 45%" src="style/big-ajax-loader.gif"></img>
	-->
</div>
<div class="hidden" id="submitEnaction">
	<table style="width:100%; height:100%"><tr valign="middle"><td align="center">
		<img src="style/big-ajax-submit.gif"></img>
	</td></tr></table>
</div>
<div class="hidden" id="extractData">
	<table style="width:100%; height:100%"><tr valign="middle"><td align="center">
		<img src="style/big-ajax-extract.gif"></img>
	</td></tr></table>
</div>
<iframe class="hidden" frameborder="0" src="about:blank" id="shimmer">
</iframe>
</body>
</html>
