<html>
<head>
	<title>INB Web Workflow Manager</title>

	<link rel="stylesheet" type="text/css" href="style/IWWE-buttons.css"></link>
	<link rel="stylesheet" type="text/css" href="style/workflowmanager.css"></link>

	<script type="text/javascript" src="js/ORFandDB-widgetCommon/browserdetect/BrowserDetect.js"></script>
	<script type="text/javascript" src="js/ORFandDB-widgetCommon/widgetCommon.js"></script>
	<script type="text/javascript" src="js/dynamicSVGhandling.js"></script>
	<script type="text/javascript" src="js/IWWEM-common.js"></script>
	<script type="text/javascript" src="js/workflowmanager.js"></script>
</head>
<body onload="InitIWWEM(WorkflowManagerCustomInit)">
<div align="center"><b>INB Web Workflow Enactor &amp; Manager</b></div>
<form id="formManager" method="post" enctype="multipart/form-data">
	<table style="width:100%">
		<tr><td class="data">
			<select name="workflow" id="workflow" class="scrolldata" size="20"></select>
			<!--<select name="workflow" id="workflow" style="width:230px;" size="20"></select>-->
		</td><td class="middle">
			<div align="center" id="svgdiv"></div>
		</td><td align="right" valign="top">
			<div class="scrolldata">
				<b>Title:</b>&nbsp;<span id="title"></span>
				<p><b>LSID:</b>&nbsp;<span id="lsid"></span></p>
				<p><b>Author:</b>&nbsp;<span id="author"></span></p>
				<p><b>Inputs</b>
				<div id="inputs">&nbsp;</div>
				</p>
				<p><b>Outputs</b>
				<div id="outputs">&nbsp;</div>
				</p>
				<b>Description</b>
				<div id="description" style="text-align:justify">&nbsp;</div>
			</div>
		</td></tr><tr><td class="buttons">
			<div align="center">
				<table><tr><td>
				<div class="button" onclick="genview.manview.reloadList()">Reload <img src="style/reload.png"></div>
				</td><td>
				<div class="button" onclick="genview.newwfview.openNewWorkflowFrame()">Add new <img src="style/blueplus.png"></div>
				</td></tr></table>
			</div>
		</td><td class="buttons">
			<div align="center">
				<div class="button" onclick="genview.newenactview.openNewEnactionFrame()">Launch!<img src="style/greenball.png"></img></div>
			</div>
		</td><td class="buttons">
			<div align="right" style="vertical-align: bottom;">
				<label>Confirm<input type="checkbox" name="confirm" id="confirm"></input></label><br>
				<div class="button" onclick="genview.manview.deleteWorkflow()">Delete <img src="style/redball.png"></img></div>
			</div>
		</td></tr><tr><td>
			<p><u>Submitted enaction jobs</u></p>
			<ol id="submittedList"></ol>
		</td><td colspan="2">
			<p><u>Last operation message</u></p>
			<div id="messageDiv"></div>
		</td></tr>
	</table>
</form>
<div class="hidden" id="outerAbsDiv">
</div>
<div class="hidden" id="newWorkflow">
	<div class="secondary">
		<div align="center">Please introduce your workflow</div>
		<form id="formNewWF" action="cgi-bin/workflowmanager" method="post" enctype="multipart/form-data">
			<div align="center">
				<div class="borderedOption"><span id="newWFStyleText" class="radio">As text</span>&nbsp;<span id="newWFStyleFile" class="radio">As file</span></div>
				<div id="newWFContainer"></div>
			</div>
			<div align="center" id="newWFUploading"><i><blink>Uploading and checking new workflow...</blink> </i><img src="style/ajaxLoader.gif"></img>
				<iframe src="about:blank" frameborder="0" id="uploadIFRAME" name="uploadIFRAME" style="width:0;height:0;visibility:hidden;"></iframe>
			</div>
		</form>
		<div class="button back" onclick="genview.newwfview.closeNewWorkflowFrame()"><img src="style/leftarrow.png"></img> Back</div>
		<div class="button forward" onclick="genview.newwfview.upload()">Upload <img src="style/upload.png"></img></div>
	</div>
</div>
<div class="hidden" id="workflowInputs">
	<div class="secondary">
		<div align="center">Please introduce your inputs for workflow</div>
		<form id="formEnactor" action="cgi-bin/enactionlauncher" method="post" target="_blank" enctype="multipart/form-data">
			<table width="100%">
				<tr><td>
					<div align="center" id="enactsvg"></div>
				</td><td width="100%">
					<div class="scrolldatalarge">
						<div><span id="noneExampleSpan" class="radio">Use inputs</span> <span id="saveAsExampleSpan" class="checkbox">Save as example</span> <span id="useExampleSpan" class="radio">Use example</span></div>
						<div id="newInputs"></div>
					</div>
				</td></tr>
			</table>
		</form>
		<div id="newEnactUploading"><iframe src="about:blank" frameborder="0" id="enactIFRAME" name="enactIFRAME" style="width:0;height:0;visibility:hidden;"></iframe>
</div>
		<div class="button back" onclick="genview.newenactview.closeNewEnactionFrame()"><img src="style/leftarrow.png"></img> Back</div>
		<div class="button forward" onclick="genview.newenactview.enact()">Start! <img src="style/run.png"></img></div>
	</div>
</div>
<div class="hidden" id="reloadWorkflows">
	<img style="position:relative; top: 45%;left: 45%" src="style/big-ajax-loader.gif"></img>
</div>
<div class="hidden" id="submitEnaction">
	<img style="position:relative; top: 45%;left: 45%" src="style/big-ajax-submit.gif"></img>
</div>
<iframe class="hidden" frameborder="0" src="about:blank" id="shimmer">
</iframe>
</body>
</html>
